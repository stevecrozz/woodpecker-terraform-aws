# -----------------------------------------------------------------------------
# Example Terraform Variables
# Copy this file to terraform.tfvars and fill in your values
# -----------------------------------------------------------------------------

# AWS Configuration
aws_region = "us-west-2"
environment = "prod"
project_name = "woodpecker"

# Networking
vpc_cidr = "10.0.0.0/16"
availability_zones = ["us-west-2a", "us-west-2b"]

# Domain & SSL (optional - leave empty to use ALB DNS)
domain_name = ""           # e.g., "ci.example.com"
acm_certificate_arn = ""   # ARN of ACM certificate for HTTPS

# Woodpecker Configuration
woodpecker_version = "v3.12.0"
woodpecker_admin_users = "your-github-username"
woodpecker_forge_type = "github"
woodpecker_forge_url = ""  # Only needed for self-hosted forges

# Organization Access Control (optional)
# If set, only members of these GitHub orgs can use Woodpecker
# woodpecker_orgs = "my-org,other-org"

# Repo Visibility (optional)
# If set, only repos owned by these users/orgs are visible
# woodpecker_repo_owners = "my-org"

# GitHub OAuth (create at https://github.com/settings/developers)
# Set callback URL to: https://your-domain/authorize
woodpecker_github_client_id = ""
woodpecker_github_client_secret = ""

# Woodpecker API Token (create in Woodpecker UI → User Settings → Personal Access Tokens)
# Required for autoscaler to manage agents
woodpecker_api_token = ""

# Server Resources (minimal for cost savings)
server_cpu = 256      # 0.25 vCPU
server_memory = 512   # 512 MB

# Agent Configuration (EC2 instances managed by Woodpecker Autoscaler)
agent_instance_type = "t3.small"  # 2 vCPU, 2GB RAM
agent_max_count = 5               # Maximum concurrent agent instances
agent_max_workflows = 2           # Workflows per agent

# Container Images
# Images are pulled from Docker Hub and pushed to ECR during apply.
# Requires docker or podman locally. Set to false if pushing images separately.
# push_images_to_ecr = true
